@page "/candidate/candidate"
@using MudBlazor

<MudPaper Class="pa-4">
    <MudTable Dense="true" Hover="true" Bordered="true" Breakpoint="Breakpoint.Sm" Items="@applicants">
        <HeaderContent>
  
            <MudTh><MudText Typo="Typo.subtitle2">Name</MudText></MudTh>
            <MudTh><MudText Typo="Typo.subtitle2">Status</MudText></MudTh>
            <MudTh><MudText Typo="Typo.subtitle2">Date</MudText></MudTh>
            <MudTh><MudText Typo="Typo.subtitle2">Action</MudText></MudTh>
        </HeaderContent>

        <RowTemplate>
            <MudTd>@context.Name</MudTd>


 
            <MudTd>
                <MudButtonGroup Variant="Variant.Outlined" Size="Size.Small">
                    <MudIconButton Color="Color.Success" Icon="@Icons.Material.Filled.Check" />
                    <MudIconButton Color="Color.Info" Icon="@Icons.Material.Filled.HelpOutline" />
                    <MudIconButton Color="Color.Error" Icon="@Icons.Material.Filled.Close" />
                </MudButtonGroup>
            </MudTd>
            <MudTd>@context.Date.ToString("dd MMM")</MudTd>
            <MudTd>
                <MudMenu Icon="@Icons.Material.Filled.MoreVert">
                    <MudMenuItem>Edit</MudMenuItem>
                    <MudMenuItem>Delete</MudMenuItem>
                </MudMenu>
            </MudTd>
        </RowTemplate>
    </MudTable>
</MudPaper>

@code {
    public class Applicants
    {
        public string Name { get; set; } = "";
        public string Status { get; set; } = "";
        public int ScreenerMet { get; set; }
        public DateTime Date { get; set; }
    }

    private List<Applicants> applicants = new()
    {
        new() { Name = "Nil Yeager", Status = "Awaiting Review", ScreenerMet = 1, Date = new DateTime(2025, 11, 19) },
        new() { Name = "Aditi Row", Status = "Awaiting Review", ScreenerMet = 1, Date = new DateTime(2025, 11, 19) },
        new() { Name = "Mical Doe", Status = "Awaiting Review", ScreenerMet = 0, Date = new DateTime(2025, 11, 19) },
        new() { Name = "Shone Marsh", Status = "Awaiting Review", ScreenerMet = 0, Date = new DateTime(2025, 11, 19) },
        new() { Name = "Riki Ponting", Status = "Contacting", ScreenerMet = 1, Date = new DateTime(2025, 11, 19) },
        new() { Name = "Gail Doe", Status = "Contacting", ScreenerMet = 1, Date = new DateTime(2025, 11, 19) },
        new() { Name = "Gama Doe", Status = "Awaiting Review", ScreenerMet = 1, Date = new DateTime(2025, 11, 19) }
    };

    private Color GetStatusColor(string status) =>
        status switch
        {
            "Contacting" => Color.Primary,
            "Awaiting Review" => Color.Secondary,
            _ => Color.Default
        };

    private Color GetScreenerColor(int met) => met > 0 ? Color.Success : Color.Error;
}
